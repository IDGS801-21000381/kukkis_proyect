<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/Html.html to edit this template
-->
<html>

<head>
    <title>ControlInsumos</title>
    <style>
        .custom-container {
            width: 100%;
        }

        .form-control:focus {
            outline-color: #0B6138 !important;
            box-shadow: 0 0 0 0.2rem rgba(11, 97, 56, 0.25) !important;
        }

        @media (max-width: 768px) {
            .form-floating .form-control {
                font-size: 12px;
            }
        }
    </style>
</head>

<body>

    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item active ms-4" aria-current="page">
                <a class="migas" href="{{ url_for('admin_index') }}"
                    style="color: #000000; font-family: 'Roboto', sans-serif; font-weight: bold;"><br><br><br><br>Home
                    /</a>
                <a class="migas" href="#" onclick="cargarModuloControlInsumos();"
                    style="color: #000000; font-family: 'Roboto', sans-serif; font-weight: bold;">Control de Insumos
                    /</a>

            </li>
        </ol>
    </nav>
    <div class="row mt-2">
        <div id="divDetalle" class="col">
            <div class="card">
                <div>
                    <div class="card-header bg-gradient"
                        style="background-color: #b38b60; padding-top: 0px; padding-bottom: 0px;">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="d-flex align-items-center"
                                style="display: flex; justify-content: space-around; width: 100%;">
                                <span class="h5 text-white"
                                    style="font-family: 'Roboto', sans-serif; font-size: 24px; font-weight: bold;">Control
                                    de insumos</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body" style="background-color: #FAEADA;">
                    <div class="form">
                        <div class="row">
                        </div>
                        <div class="row mt-2">
                            <div id="divCatalogo" class="col-md-12 col-sm-12">
                                <div class="card">
                                    <div class="card-header text-white card-hform d-flex justify-content-between align-items-center"
                                        style="background-color: #b38b60">
                                        <div class="text-left">
                                            Registro de compras y registro de insumos utilizados
                                        </div>
                                        <div>
                                            <button class="btn btn-sm btn-outline-light my-2"
                                                onclick="registrarInsumoVentana();">
                                                <i class="fas fa-plus"></i>&nbsp;&nbsp;Registrar nuevo insumo
                                            </button>
                                        </div>
                                    </div>
                                    <table id="tblRegistroInsumos" class="table table-hover">                                    
                                        <thead>
                                            <tr>
                                                <th colspan="3" style="text-align: center;">Registro de compras</th>
                                                <th colspan="3" style="text-align: center;">Registro de insumos
                                                    utilizados</th>
                                            </tr>
                                            <tr>
                                                <th>Insumo</th>
                                                <th>Cantidad (Kg)</th>
                                                <th>Costo ($)</th>
                                                <th>Disponible</th>
                                                <th>Cantidad Utilizada</th>
                                                <th style="width: 50px;">Eliminar</th>
                                                <th style="width: 50px;">Editar</th>
                                            </tr>
                                        </thead>
                                        <tbody id="tbodyRegistroInsumo">
                                            <!-- Aquí irían los datos de los insumos -->
                                            {% for insumos in insumoss %}
                                            {% endfor %}
                                        </tbody>
                                        <div class="d-flex justify-content-end mt-4">
                                            <button class="button" onclick="guardarInsumoComprado();"><i
                                                    class="fas fa-save"></i>&nbsp;Guardar</button>
                                        </div>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-2">
        <div id="contenedor_empleados" class="custom-container"></div>
    </div>

    <div id="modal" class="modal">
        <div class="card-header" style="background-color: #a0794f">
            <div>
                <button class="btn btn-sm btn-outline-light my-2" onclick="cerrarVentanaRegistro();">
                    <i class="fas fa-plus"></i>&nbsp;&nbsp;Cerrar
                </button>
            </div>
            <h2 class="text-light text-center" style="font-weight: bold; -webkit-text-stroke: 0.7px black;">Registro
            </h2>
        </div>

        <div class="modal-content card-body fondoCardBodyLogin">
            <div class="row">
                <div class="">
                    <form action="/guardarInsumos" method="POST">
                        <input id="txtidUsuario" hidden>
                        <label for="txtRegistroNombreInsumo">Nombre Insumo:</label>
                        <input type="text" class="form-control" id="txtRegistroNombreInsumo" placeholder="Nombre Insumo" name="nombreInsumo" required
                                onkeypress="presionarTeclaInsumo(event);">
                        <input type="hidden" name="cantidadComprada" value="0">
                        <input type="hidden" name="precio" value="0">
                        <input type="hidden" name="cantidadDisponible" value="0">
                        <input type="hidden" name="cantidadUtilizada" value="0">                       
                        <div class="text-center mt-4">
                            <div class="text-center mt-4">
                                <button id="btnRegistrarInsumo" type="submit" class="button" onclick="cerrarVentanaRegistro();">
                                    <i class="fas fa-save me-2"></i>Registrar
                                </button>
                            </div>
                        </div>
                    </form>

                    
                    
                </div>
            </div>
        </div>
    </div>

    <script src="/Don_Galleto/admin/controlInsumos/controlInsumos.js"></script>
    <script>


        function changeColor(element) {
            element.style.borderColor = "#a0794f";
        }
        
    </script>
</body>

</html>